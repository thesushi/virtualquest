<?xml version="1.0" encoding="UTF-8"?>
<krpano version="1.17">

    
  <!-- Spot Style - Point changement map -->
  <style name="IconPointchangementmap"
         url="%FIRSTXML%/spots/hotspot_direction_sequence_user_defaultpoint0.png"
         visible="false"

         frame="0"
         lastframe="15"
         framewidth="98"
         frameheight="48"
         stopspotsequence="false"
         onloaded="setdefaultanimatedspotframe();startspotanimation(0.1);"

         rotate="270"
         onhover="onhoverIconPointchangementmap"
         onout="onoutIconPointchangementmap"
         />
  <action name="onhoverIconPointchangementmap">
    showtooltip(hotspot);
  </action>
  <action name="onoutIconPointchangementmap">
    hideTooltip();



  </action>

    
  <!-- Spot Style - Point enigme -->
  <style name="IconPointenigme"
         url="%FIRSTXML%/spots/hotspot_neutral_sequence_user_defaultpoint1.png"
         visible="false"

         frame="0"
         lastframe="17"
         framewidth="70"
         frameheight="70"
         stopspotsequence="false"
         onloaded="setdefaultanimatedspotframe();startspotanimation(0.1);"

         onhover="onhoverIconPointenigme"
         onout="onoutIconPointenigme"
         />
  <action name="onhoverIconPointenigme">
    showtooltip(hotspot);
  </action>
  <action name="onoutIconPointenigme">
    hideTooltip();



  </action>

  <!-- ******* -->
  <!-- Compass -->
  <!-- ******* -->


  <layer name="compassbackground"
         type="container"
         keep="true"
         handcursor="false"
         capture="false"
         align="topright"
         x="20"
         y="20"
         zorder="0"
         visible="false"

         height="100"
         width="100"

         >

    <layer name="compassrotatebackground"
           url="%FIRSTXML%/graphics/compass/compassbgd7813e.png"
           keep="true"
           handcursor="false"
           capture="false"
           align="center"
           zorder="0"
           height="100%"
           width="100%"
           />

    <layer name="compasspointer"
           url="%FIRSTXML%/graphics/compass/compasspointerbf0000.png"
           keep="true"
           align="center"
           handcursor="false"
           capture="false"
           zorder="1"
           height="100%"
           width="100%"

          />
  </layer>

  <events name="compassevts"
          keep="true"
          onnewpano="compassUpdateOrientation();"
          onviewchanged="compassUpdateOrientation();"
    onTourStart="showcompass();"
          hidetourcontrols="hidecompass();"
          showtourcontrols="showcompass();"
         />

  <action name="compassUpdateOrientation">
	mod(compasshlookat, view.hlookat, 360);
    mul(compassheading, -1, get(scene[get(xml.scene)].heading));
    if (compassheading == null, set(compassheading, 0));
	sub(layer[compassrotatebackground].rotate, compassheading, compasshlookat);
  </action>

 
  <action name="hidecompass">
    set(layer[compassbackground].visible, false);
  </action>
  <action name="showcompass">
    set(layer[compassbackground].visible, true);
  </action>

</krpano>